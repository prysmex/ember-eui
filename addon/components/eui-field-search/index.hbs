{{#let (has-block "prepend") (has-block "append") (arg-or-default @id (unique-id)) as |hasPrepend hasAppend inputId|}}
  {{#let
    (class-names
      (if @fullWidth "euiFieldSearch--fullWidth")
      (if @compressed "euiFieldSearch--compressed")
      (if (or hasPrepend hasAppend) "euiFieldSearch--inGroup")
      (if @isLoading "euiFieldSearch--isLoading")
      (if (and @isClearable @value) "euiFieldSearch--isClearable")
      "euiFieldSearch"
    ) as |classes|
  }}
    <EuiFormControlLayout
      @icon="search"
      @fullWidth={{@fullWidth}}
      @isLoading={{@isLoading}}
      @clear={{@clear}}
      @compressed={{@compressed}}
      @useGroup={{or hasPrepend hasAppend}}
    >
      <:prepend as |prependClasses|>
        {{yield prependClasses inputId to="prepend"}}
      </:prepend>
      <:field>
        <input
          id={{inputId}}
          class={{classes}}
          type="text"
          ...attributes
          {{validatable-control @isInvalid}}
        />
      </:field>
      <:append as |appendClasses|>
        {{yield appendClasses inputId to="append"}}
      </:append>
    </EuiFormControlLayout>
  {{/let}}
{{/let}}